<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="AiMediaGenerator.Views.SettingsPage"
             Title="Settings">
  <ScrollView>
    <VerticalStackLayout Spacing="12">

      <Frame BackgroundColor="{StaticResource Card}" Padding="10" HasShadow="False" CornerRadius="10">
        <Grid ColumnDefinitions="*,Auto" RowDefinitions="Auto,Auto" ColumnSpacing="8">
          <Label Text="Server-Limits" FontAttributes="Bold" Grid.ColumnSpan="2"/>
          <Label x:Name="CapsLabel"
                 Grid.Row="1"
                 LineBreakMode="WordWrap"
                 FontSize="12"
                 Opacity="0.9"
                 Text="(noch nicht geladen)"/>
          <Button Grid.Row="0" Grid.Column="1"
                  Text="Aktualisieren"
                  Padding="10,6"
                  Clicked="OnRefreshCaps"/>
        </Grid>
      </Frame>

      <Label Text="Cloud Einstellungen" FontAttributes="Bold" FontSize="20"/>
      <Entry x:Name="ApiUrlEntry" Placeholder="API Base URL (z.B. https://server/api)"/>
      <Entry x:Name="ApiKeyEntry" Placeholder="API Key" IsPassword="True"/>

      <HorizontalStackLayout Spacing="10">
        <Label Text="NSFW erlauben" VerticalOptions="Center" />
        <Switch x:Name="NsfwSwitch" />
      </HorizontalStackLayout>

      <Button Text="Speichern" Clicked="OnSave"/>
      <Label x:Name="StatusLabel" Text=""/>
      <Button Text="Ping Cloud" Clicked="OnPing"/>
      <Label x:Name="PingLabel" Text=""/>

    </VerticalStackLayout>
  </ScrollView>
</ContentPage>
